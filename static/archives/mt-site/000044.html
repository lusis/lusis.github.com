<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>lusis.org: When mail servers go bad</title>

<link rel="stylesheet" href="http://www.lusis.org/mt/lusis//a3col.css" type="text/css" />

<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.lusis.org';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>



</head>

<body>

<div id="banner">
lusis.org<br />
<span class="description">We play the blaming game. Rants of a libertarian geek.</span>
</div>

<div id="content">


<div id="menu">

<a href="http://www.lusis.org/mt/lusis/archives/2002_04.html">« Should I take the plunge or not?</a> |

<a href="http://www.lusis.org/mt/lusis/">Main</a>

| <a href="http://www.lusis.org/mt/lusis/archives/2002_04.html">Pictures are cool »</a>

</div>

<div class="blog">

<div class="date">April 13, 2002</div>	

<div class="blogbody">

<span class="title">When mail servers go bad</span>

<p>Is it so hard to write an MTA that follows protocols?</p>

<a name="more"></a>
<p>This text is from a report on our company mailserver. I've cleaned it up a bit to remove some email addys. You would think that once my mailserver rejects the message, we would be done but NO. It seems some mailservers actually keep talking. I've gotten several of these lately. One report actually had the FULL spam, line by line.</p>

<p>Just plain crazy!</p>

<p><b><br />
Transcript of session follows.</p>

<p> Out: 220 my.mailserver.com ESMTP NO UCE<br />
 In:  HELO netscape.com<br />
 Out: 250 mymailserver.com<br />
 In:  MAIL FROM: <br />
 Out: 250 Ok<br />
 In:  RCPT TO: <br />
 Out: 550 : Client host rejected: Network blocked due<br />
     to spam. Contact xxxxxxxxxx@xx.xxxxxx.xxx with any questions.<br />
 In:  DATA<br />
 Out: 554 Error: no valid recipients<br />
 In:  Received: from 213.69.240.230 ([213.69.240.230]) by<br />
     smtp-server6.tampabay.rr.com with NNFMP; 12 Apr 2002 17:30:21 +0900<br />
 Out: 502 Error: command not implemented<br />
 In:  Received: from unknown (139.96.146.111)<br />
 Out: 502 Error: command not implemented<br />
 In:  ?by rly-yh05.mx.aol.com with asmtp; Fri, 12 Apr 2002 18:26:49 +0800<br />
 Out: 502 Error: command not implemented<br />
 In:  Received: from unknown (HELO smtp-server6.tampabay.rr.com)<br />
     (141.211.162.180)<br />
 Out: 502 Error: command not implemented<br />
 In:  ?by mta6.snfc21.pbi.net with NNFMP; 13 Apr 2002 00:23:18 +0200<br />
 Out: 502 Error: command not implemented<br />
 In:  Received: from smtp4.cyberec.com ([31.216.160.28])<br />
 Out: 502 Error: command not implemented<br />
 In:  ?by f64.law4.hotmail.com with esmtp; Sat, 13 Apr 2002 11:19:47 -0900<br />
 Out: 502 Error: command not implemented</p>

<p>Session aborted, reason: lost connection<br />
</b></p>

<p>Session aborted? Ya think?</p>

<span class="posted">Posted by pugsly at April 13, 2002 09:47 PM

<br /></span>

</div>



</div>
</div>
</div>

<div id="links">
<div class="powered">
  Powered by<br /><a href="http://www.movabletype.org">Movable 
  Type 2.64</a><br />
  <br /> 
  Template by<br />
  <!--this template was modified from the original movable type templates by 
  Kristine of Love-productions and blogstyles.
  I'd appreciate it if you would keep a link back to blogstyles with this template!-->
  <a href="http://blogstyles.com" target="_blank">BLOG<styles></a></div>
</div>
</body>
</html>
